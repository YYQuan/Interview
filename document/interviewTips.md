# 问题点

## 性能优化

如果问到性能优化，就先往 大图触发的OOM 方面讲， 
由于有大量客户定制的图片，对于关键的图片，设置图片的时候，通过hook去获取图片的bitmap 对应的尺寸，如果尺寸出入比较大的话，那么就上报一下。



## 工作的亮点

可以把副号这种方案当中 亮点去说，
为了节约设备成本 设计了这套方案。

之前的方案是 一台设备里面放了 多个板子来实现的。

需求是 要能同时看到同一个设备的多个视屏源。

当时有两个思路， 
一个是    对于一个用户 管理 自己的状态 发布给服务器，然后 远端设备根据自己的需求 来选择 要显示哪几个视屏源。
这样带来的问题就是  这一个设备的视频源之间有很多联动关系。

比如一些画面置顶的操作，如果用单个用户发多类型流的方式话，就需要对 流的类型 和成员进行额外的维护。
比如说设备A有类型1，2，3,我就要A1 画面显示在第一个位置，A2画面显示在第5个位置，A3画面显示在第8个位置，这样就要对用户的每种类型的流都要维护。

明显比做成统一的用户进行维护要复杂。
所以选择了process 属性来一个新进程 来做位单独的用户来处理的方案。



## 整合重构代码

把手机代码和盒子代码进行了整合

对于主体一直的界面 ，尽量都用viewstub来延迟加载。然后viewStub里面做设备类型的判断。
为啥用viewStub， 这样 xml文件里可以清晰一些， 修改的时候也比较好改。

然后对于各种硬件间的差异， 比如 视频源能力 和 声音方案能力等 都尽量用装饰者模式来包装。

尽量把相同逻辑整合起来，



## 最近的工作

整个手机端和盒子端的代码

做了一个网络测试工具（看看这个能不能说些啥）
最近业务不多，是准备处理些多人协作时 相同的资源被重复的问题， 来提高代码的质量。



网络丢包 策略优化

在服务器带宽有限的情况下， 发生了丢包， 要求重传。
导致服务器带宽压力更大， 结果丢包更加严重，引起的恶性循环。

现在在做的优化方案是 准备在丢包越来越严重的情况下动态调整 重传次数。 一开始是3次。







## 数据库升级

数据库升级是 需要把每一个版本的改动都保留下来。
改动和版本一定要对应。而且需要按照版本号一步一步的来升级。

我们是用不带break的switch（）的形式来处理的。



如果是几个字段的改动的话， 那就直接添加上， 改下版本号，主要反序列化成对应对象的时候 要注意字段的顺序。
如果改动比较多的话，就直接迁移更加方便一点。

# 参考资料

## 面试题

https://www.jianshu.com/p/ccfdb32da717











自我介绍

16年毕业于深圳大学，至今有4年android开发经验。

刚毕业的时候是做了 物联网 音箱项目， 后来也开发过数字货币钱包，维护过数字货币交易所， 现在的主要工作是音视频即时通讯相关的开发。
个人觉得比较有优势的点 是 经手多种类型的项目，有从零开发新业务经验，也有维护陈年老项目的经验。
2C  2B的项目都做过。可以快速上手可以业务类型的开发。